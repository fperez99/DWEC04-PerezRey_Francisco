<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Actividad 7</title>
  </head>
  <body>
    <script>
      //Creamos una clase trabajador, esta sera la clase padre de las demas
      class Trabajador {
        constructor(id, nombre, apellidos, fechaNacimiento) {
          this.id = parseInt(id);
          this.nombre = String(nombre);
          this.apellidos = String(apellidos);
          this.fechaNacimiento = Date(fechaNacimiento);
        }
      }

      //Clase CEO con sus propiedades y metodos propios
      class CEO extends Trabajador {
        constructor(
          id,
          nombre,
          apellidos,
          fechaNacimiento,
          jefesAsignados = []
        ) {
          super(id, nombre, apellidos, fechaNacimiento);
          this.jefesAsignados = jefesAsignados;
        }
        viajar() {
          alert("Viajamos!!");
        }

        anadirJefe(jefe) {
          this.jefesAsignados.push(jefe);
        }

        dirigirJefes() {
          alert("Estamos dirigiendo!");
        }
      }

      class Jefe extends Trabajador {
        constructor(
          id,
          nombre,
          apellidos,
          fechaNacimiento,
          dptoResponsable,
          equipo = []
        ) {
          super(id, nombre, apellidos, fechaNacimiento);
          this.dptoResponsable = String(dptoResponsable);
          this.equipo = equipo;
        }

        anadirAlEquipo(programador) {
          this.equipo.push(programador);
        }

        reunirseConEquipo() {
          alert("Estamos reunidos");
        }
      }

      //Clase Programador con sus propiedades y metodos propios
      class Programador extends Trabajador {
        constructor(
          id,
          nombre,
          apellidos,
          fechaNacimiento,
          titulacion,
          experiencia
        ) {
          super(id, nombre, apellidos, fechaNacimiento);
          this.titulacion = String(titulacion);
          this.experiencia = parseInt(experiencia);
        }

        programar() {
          alert("Estamos rogramando");
        }
      }

      var ceo1 = new CEO(123, "Fran", "Perez Rey", "17/01/99");
      var jefe1 = new Jefe(987, "Marta", "Sanchez Sanchez", "13/11/80", "BBDD");
      var programador1 = new Programador(
        456,
        "Esteban",
        "Fopiana Candon",
        "12/02/79",
        "Ingeniero",
        2
      );

      //diferentes test para comprobar por consola que esta todo correcto
      console.log(ceo1);
      console.log(jefe1);
      console.log(programador1);

      jefe1.anadirAlEquipo(programador1);
      console.log(jefe1);

      ceo1.anadirJefe(jefe1);
      console.log(ceo1);
    </script>
  </body>
</html>
